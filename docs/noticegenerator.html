<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus - AI Notice Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0A0A0A;
            color: #E2E8F0;
        }
        .form-input, .form-select, .form-textarea {
            background-color: #1a1a1a;
            border: 1px solid #333;
            color: #E2E8F0;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            border-radius: 0.5rem;
            padding: 0.75rem;
        }
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #6366F1;
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.5);
        }
        .form-select {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.75rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        .form-section {
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: #111111;
            border-radius: 1rem;
            padding: 1.5rem;
        }
        .loader {
            border: 4px solid #333;
            border-top: 4px solid #6366F1;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="sticky top-0 left-0 right-0 z-50 bg-black/30 backdrop-blur-lg border-b border-slate-800/50">
        <div class="container mx-auto px-4">
            <nav class="flex items-center justify-between h-20">
                <a href="./index.html" class="flex items-center space-x-2">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-indigo-400">
                        <path d="M12 2L2 7V17L12 22L22 17V7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M2 7L12 12L22 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 22V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span class="text-xl font-bold text-slate-200">Nexus</span>
                </a>
                <a href="./index.html" class="bg-slate-700/50 text-white font-semibold px-5 py-2 rounded-lg hover:bg-slate-700 transition-all duration-300 border border-slate-600">
                    Back to Home
                </a>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 py-12">
        <!-- Page Title -->
        <div class="text-center my-12">
            <h1 class="text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-b from-white to-slate-400">
                AI Notice Assistant
            </h1>
            <p class="text-slate-400 mt-2">Enter the key details below and let AI generate the full notice for you.</p>
        </div>

        <!-- Notice Form -->
        <div class="max-w-4xl mx-auto space-y-8">
            <form id="notice-form" class="form-section">
                <h2 class="text-xl font-bold text-white mb-6">Enter Placement Details</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <input type="text" id="company-name" placeholder="Company Name" required class="form-input">
                    <input type="text" id="job-role" placeholder="Job Role" required class="form-input">
                    <input type="text" id="salary" placeholder="Salary/Stipend" required class="form-input">
                    <input type="text" id="location" placeholder="Location" required class="form-input">
                     <select id="batch" required class="form-select w-full md:col-span-2">
                        <option value="" disabled selected>Select Batch</option>
                        <option>2025</option>
                        <option>2026</option>
                        <option>2027</option>
                    </select>
                    <textarea id="eligibility" placeholder="Eligibility Criteria (e.g., CS/IT, 7 CGPA, No backlogs)" required class="form-textarea md:col-span-2" rows="3"></textarea>
                </div>
                 <div class="text-center pt-8">
                    <button type="submit" id="generate-button" class="w-full max-w-md bg-indigo-500 text-white font-semibold px-8 py-4 rounded-lg hover:bg-indigo-600 transition-all duration-300 shadow-lg shadow-indigo-500/20 flex items-center justify-center mx-auto">
                        <i data-lucide="sparkles" class="mr-2"></i>
                        Generate Notice
                    </button>
                </div>
            </form>

            <!-- Result Section -->
            <div id="result-section" class="form-section hidden">
                 <h2 class="text-xl font-bold text-white mb-6">Generated Notice</h2>
                 <div id="loader" class="flex justify-center items-center h-40">
                    <div class="loader"></div>
                 </div>
                 <div id="result-content" class="hidden">
                    <textarea id="generated-notice" readonly class="form-textarea w-full h-96 bg-[#0A0A0A]"></textarea>
                    <button id="copy-button" class="mt-4 w-full max-w-md bg-green-600 text-white font-semibold px-8 py-3 rounded-lg hover:bg-green-700 transition-all duration-300 flex items-center justify-center mx-auto">
                        <i data-lucide="copy" class="mr-2"></i>
                        Copy to Clipboard
                    </button>
                 </div>
            </div>
        </div>
    </main>

    <script type="module">
        lucide.createIcons();

        const form = document.getElementById('notice-form');
        const generateButton = document.getElementById('generate-button');
        const resultSection = document.getElementById('result-section');
        const loader = document.getElementById('loader');
        const resultContent = document.getElementById('result-content');
        const generatedNoticeTextarea = document.getElementById('generated-notice');
        const copyButton = document.getElementById('copy-button');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Show loading state
            resultSection.classList.remove('hidden');
            loader.classList.remove('hidden');
            resultContent.classList.add('hidden');
            generateButton.disabled = true;
            generateButton.innerHTML = '<i data-lucide="wand-2" class="mr-2 animate-spin"></i> Generating...';
            lucide.createIcons();

            // Gather form data
            const companyName = document.getElementById('company-name').value;
            const jobRole = document.getElementById('job-role').value;
            const salary = document.getElementById('salary').value;
            const location = document.getElementById('location').value;
            const batch = document.getElementById('batch').value;
            const eligibility = document.getElementById('eligibility').value;

            // Define the structure and instructions for the AI
            const systemPrompt = `
                You are an expert placement officer at a university. Your task is to generate a formal and clear placement notice based on the key details provided.
                The notice must follow this exact structure and formatting, using the provided details to fill in the bracketed information.
                Do not add any information that is not requested.
                The date should be today's date in DD/MM/YYYY format.
                The notice type should be "FINAL PLACEMENT AND INTERNSHIP NOTICE".
                The coordinator details and the final sign-off are fixed and must be included exactly as written below.

                [Today's Date in DD/MM/YYYY format]

                FINAL PLACEMENT AND INTERNSHIP NOTICE
                For Batch [Batch]

                Company: [Company Name]
                Job Role: [Job Role]
                Eligibility: [Eligibility Criteria]
                Salary/Stipend: [Salary/Stipend]
                Location: [Location]

                Hiring Process: 
                - Online Assessment
                - Technical Interview
                - HR Interview

                Attention Eligible and Interested Students:
                Please register using the link provided below. The deadline is tomorrow.

                Google Forms Link: [To be provided by officer]
                WhatsApp Group Link: [To be provided by officer]

                NOTE:
                1. Ensure you have given valid PRN NO. to avoid disqualification.
                2. No late entries will be entertained.
                3. Be sure of joining the company before forwarding the CV.
                4. Strict actions will be taken if non-eligible students fill the form.
                5. Placed Students are not allowed, else will take strict action.
                6. Rename the CVs with the candidate's names before sharing.

                Placement Coordinators:
                Vishesh Jangid : 1234567890
                John Doe : 0987654321

                Thanks & Regards,
                Ashish Dhoke
                Deputy Director, Outreach and Placements
                Indira Group of Institutes, Pune
                7709016308
            `;

            // Create the user's request based on the form inputs
            const userQuery = `
                Generate a placement notice with the following details:
                - Company Name: ${companyName}
                - Job Role: ${jobRole}
                - Salary/Stipend: ${salary}
                - Location: ${location}
                - Batch: ${batch}
                - Eligibility Criteria: ${eligibility}
            `;
            
            try {
                // Call the Gemini API
                const apiKey = ""; 
                const apiUrl = \`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=\${apiKey}\`;

                const payload = {
                    contents: [{ parts: [{ text: userQuery }] }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                };

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API request failed with status ${response.status}`);
                }

                const result = await response.json();
                const generatedText = result.candidates[0].content.parts[0].text;

                // Display the result
                generatedNoticeTextarea.value = generatedText;
                loader.classList.add('hidden');
                resultContent.classList.remove('hidden');

            } catch (error) {
                console.error("Error generating notice:", error);
                generatedNoticeTextarea.value = "Sorry, there was an error generating the notice. Please try again. Error: " + error.message;
                loader.classList.add('hidden');
                resultContent.classList.remove('hidden');
            } finally {
                // Restore button state
                generateButton.disabled = false;
                generateButton.innerHTML = '<i data-lucide="sparkles" class="mr-2"></i> Generate Notice';
                lucide.createIcons();
            }
        });

        copyButton.addEventListener('click', () => {
            generatedNoticeTextarea.select();
            document.execCommand('copy');
            copyButton.innerHTML = '<i data-lucide="check" class="mr-2"></i> Copied!';
            lucide.createIcons();
            setTimeout(() => {
                copyButton.innerHTML = '<i data-lucide="copy" class="mr-2"></i> Copy to Clipboard';
                lucide.createIcons();
            }, 2000);
        });
    </script>
</body>
</html>
